<h1><%= @cat.name %></h1>

<table>
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Name</td>
      <td><%= @cat.name %></td>
    </tr>
    <tr>
      <td>Color</td>
      <td><%= @cat.color %></td>
    </tr>
    <tr>
      <td>Sex</td>
      <td><%= @cat.sex %></td>
    </tr>
    <tr>
      <td>Description</td>
      <td><%= @cat.description %></td>
    </tr>
    <tr>
      <td>Birthdate</td>
      <td><%= @cat.birth_date %></td>
    </tr>
  </tbody>
</table>

<% if @cat.rental_requests %>
  <br>
  <h2>Rental Requests</h2>
  <br>
  <table>
    <thead>
      <tr>
        <td>Start Date</td>
        <td>End Date</td>
        <td>Status</td>
      </tr>
    </thead>
    <% @cat.rental_requests.order(:start_date).each do |request| %>
      <tr>
        <td><%= request.start_date %></td>
        <td><%= request.end_date %></td>
        <td><%= request.status%></td>
        <% if request.pending? %>
          <td>
            <form action="<%= approve_cat_rental_request_url(request.id) %>" method="post">
              <button type="submit">Approve</button>
            </form>
          </td>
          <td>
            <form action="<%= deny_cat_rental_request_url(request.id) %>" method="post">
              <button type="submit">Deny</button>
            </form>
          </td>
        <% end %>
      </tr>
    <% end %>
  </table>
  
<% end %>